<div class="container-fluid profileBackground" ng-controller="ProfileController">




    <div class="row">


        <div class="col-xs-1"></div>
        <div class="col-xs-10">
            <div ng-if="model.isdifferentUser" class="alert alert-warning">
               You are viewing <strong>{{model.visitor.username}}'s</strong> profile. You won't be able to make any changes here.
            </div>
            <div class="card hovercard">
                <div class="card-background">
                    <img class="card-bkimg" alt="" src="http://lorempixel.com/100/100/people/9/">
                    <!-- http://lorempixel.com/850/280/people/9/ -->
                </div>

                <div ng-if="!model.isdifferentUser" class="useravatar">
                    <img alt="" ng-src="{{model.currentUser.imageUrl}}"/>
                </div>
                <div ng-if="model.isdifferentUser" class="useravatar">
                    <img alt="" ng-src="{{model.visitor.imageUrl}}"/>
                </div>
                <div ng-if="!model.isdifferentUser" class="card-info"><span class="card-title">{{model.currentUser.username}}</span>

                </div>
                <div ng-if="model.isdifferentUser" class="card-info"><span class="card-title">{{model.visitor.username}}</span>

                </div>
            </div>
            <div class="btn-pref btn-group btn-group-justified btn-group-lg" role="group" aria-label="...">
                <div class="btn-group" role="group">
                    <button type="button" id="likes" class="btn btn-primary" href="#tab1" data-toggle="tab"><span
                            class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span>
                        <div class="hidden-xs">Likes</div>
                    </button>
                </div>
                <div class="btn-group" role="group">
                    <button type="button" id="followers" class="btn btn-default" href="#tab2" data-toggle="tab"><span
                            class="glyphicon glyphicon-user" aria-hidden="true"></span>
                        <div class="hidden-xs">Followers</div>
                    </button>
                </div>
                <div class="btn-group" role="group">
                    <button type="button" id="following" class="btn btn-default" href="#tab3" data-toggle="tab"><span
                            class="glyphicon glyphicon-user" aria-hidden="true"></span>
                        <div class="hidden-xs">Following</div>
                    </button>
                </div>
                <div class="btn-group" role="group">
                    <button type="button" id="reviews" class="btn btn-default" href="#tab4" data-toggle="tab"><span
                            class="glyphicon glyphicon-comment" aria-hidden="true"></span>
                        <div class="hidden-xs">Reviews</div>
                    </button>
                </div>
                <div class="btn-group" role="group">
                    <button type="button" id="editProfile" class="btn btn-default" href="#tab5" data-toggle="tab"><span
                            class="glyphicon glyphicon-wrench" aria-hidden="true"></span>
                        <div ng-if="!model.isdifferentUser" class="hidden-xs">Edit Profile</div>
                        <div ng-if="model.isdifferentUser" class="hidden-xs">{{model.visitor.username}}'s profile</div>
                    </button>
                </div>
            </div>

            <div class="well">
                <div class="tab-content">
                    <div class="tab-pane fade in active" id="tab1">
                        <h3 ng-if="!model.isdifferentUser" class="sub-heading">Products you liked</h3>
                        <h3 ng-if="model.isdifferentUser" class="sub-heading">Products liked by <strong>{{model.visitor.username}}</strong></h3>
                        <div class="row">
                            <div class="col-sm-4 col-md-2 container-like-list" ng-repeat="prod in model.likesData">
                                <div class="thumbnail" style="height: 200px;">
                                    <a href="#/details/{{prod._id}}"><img class="img-responsive img-gadget-review"
                                                                          ng-src="{{prod.imageUrl}}"></a>
                                    <div class="caption text-center"><a href="#/details/{{prod._id}}">{{prod.name.substring(0,20)}}..</a>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="tab-pane fade in" id="tab2">
                        <h3 ng-if="!model.isdifferentUser" class="sub-heading">People following you</h3>
                        <h3 ng-if="model.isdifferentUser" class="sub-heading">People following <strong>{{model.visitor.username}}</strong></h3>

                        <div class="row">
                            <div class="col-sm-4 col-md-2 container-like-list" ng-repeat="user in model.followersData">
                                <div class="thumbnail" style="height: 200px;">
                                    <a href=""><img class="img-responsive img-gadget-review" ng-src="{{user.imageUrl}}"></a>
                                    <div class="caption text-center"><a href="">{{user.username}}</a></div>
                                </div>
                            </div>
                        </div>

                    </div>


                    <div class="tab-pane fade in" id="tab3">
                        <h3 ng-if="!model.isdifferentUser" class="sub-heading">People you following</h3>
                        <h3 ng-if="model.isdifferentUser" class="sub-heading">People <strong>{{model.visitor.username}}</strong> follows</h3>
                        <div class="row">
                            <div class="col-sm-4 col-md-2 container-like-list" ng-repeat="user in model.followingData">
                                <div class="thumbnail" style="height: 200px;">
                                    <a href=""><img class="img-responsive img-gadget-review" ng-src="{{user.imageUrl}}"></a>
                                    <div class="caption text-center"><a href="">{{user.username}}</a></div>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="tab-pane fade in" id="tab4">
                        <h3 ng-if="!model.isdifferentUser" class="sub-heading">Reviews written by you </h3>
                        <h3 ng-if="model.isdifferentUser" class="sub-heading">Reviews written by <strong>{{model.visitor.username}}</strong></h3>
                        <hr>
                        <div ng-repeat="review in model.reviewsData">
                            <div class="container-fluid ng-scope">
                                <div class="row review-row">
                                    <div class="col-sm-3 container-profile-review-img">
                                        <img class="img-responsive img-gadget-review" ng-src="{{review.image}}">
                                    </div>
                                    <div class="col-sm-9 container-profile-review">
                                            <div class="row">
                                                <h4>{{review.productname.substring(0,75)}}...</h4>
                                            </div>
                                            <div class="row">
                                                <p><b>Title: </b>{{review.title}}</p>
                                                <p><b>Comment: </b>{{review.review}}</p>
                                                <p class="pull-left" style="color: #2b542c"><b>Created On: </b>{{review.createdOn
                                                    | date : 'mediumDate'}}</p>
                                            </div>
                                    </div>
                                </div>
                            </div>
                            <hr>
                        </div>
                    </div>
                    <div class="tab-pane fade in" id="tab5">
                        <div class="container-fluid" ng-controller="ProfileController">
                            <div class="row">
                                <div class="col-sm-10 col-sm-offset-1 col-md-10 col-md-offset-1 main">
                                    <h3 ng-if="!model.isdifferentUser" class="sub-heading">Your Profile</h3>
                                    <h3 ng-if="model.isdifferentUser" class="sub-heading"><strong>{{model.visitor.username}}'s</strong> profile</h3>
                                    <hr>
                                    <form class="form-horizontal" role="form" action="{{model.imageApi}}"
                                          method="post"
                                          enctype="multipart/form-data">
                                        <div class="form-group">
                                            <label class="col-sm-3" for="username">Username:</label>
                                            <div ng-if="!model.isdifferentUser" class="col-sm-9">
                                                <input readonly="true" ng-model="model.currentUser.username" type="text"
                                                       class="form-control" name="username" id="username"
                                                       placeholder="Username">
                                            </div>

                                            <div ng-if="model.isdifferentUser" class="col-sm-9">
                                                <input readonly="true" ng-model="model.visitor.username" type="text"
                                                       class="form-control" name="username" id="usernameV"
                                                       placeholder="Username">
                                            </div>

                                        </div>
                                        <div ng-if="!model.isdifferentUser" class="form-group">
                                            <label class="col-sm-3" for="pwd">Password:</label>
                                            <div class="col-sm-9">
                                                <input ng-model="model.currentUser.password" name="password"
                                                       type="password"
                                                       class="form-control" id="pwd" placeholder="Password">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-3" for="firstName">First Name:</label>
                                            <div ng-if="!model.isdifferentUser" class="col-sm-9">
                                                <input ng-model="model.currentUser.firstName" name="firstName"
                                                       type="text"
                                                       class="form-control" id="firstName" placeholder="First Name">
                                            </div>

                                            <div ng-if="model.isdifferentUser" class="col-sm-9">
                                                <input readonly="true" ng-model="model.visitor.firstName" name="firstName"
                                                       type="text"
                                                       class="form-control" id="firstNameV" placeholder="First Name">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-3" for="lastName">Last Name:</label>
                                            <div ng-if="!model.isdifferentUser" class="col-sm-9">
                                                <input ng-model="model.currentUser.lastName" name="lastName" type="text"
                                                       class="form-control search" id="lastName"
                                                       placeholder="Last Name">
                                            </div>
                                            <div ng-if="model.isdifferentUser" class="col-sm-9">
                                                <input readonly="true" ng-model="model.visitor.lastName" name="lastName" type="text"
                                                       class="form-control search" id="lastNameV"
                                                       placeholder="Last Name">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-3" for="email">Email:</label>
                                            <div ng-if="!model.isdifferentUser" class="col-sm-9">
                                                <input ng-model="model.currentUser.email" name="email" type="email"
                                                       class="form-control" id="email" placeholder="Email">
                                            </div>

                                            <div ng-if="model.isdifferentUser" class="col-sm-9">
                                                <input readonly="true" ng-model="model.visitor.email" name="email" type="email"
                                                       class="form-control" id="emailV" placeholder="Email">
                                            </div>
                                        </div>
                                        <div ng-if="!model.isdifferentUser" class="form-group">
                                            <label class="col-sm-3">Upload Photo:</label>
                                            <div class="col-sm-9">
                                                <input type="file" name="myFile" class="form-control"/>
                                                <br>
                                                <button type="submit" class="btn btn-block btn-success">
                                                    Save Changes
                                                </button>
                                            </div>
                                        </div>

                                    </form>


                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xs-1"></div>
    </div>
</div>

<script>
    $(document).ready(function () {
        $(".btn-pref .btn").click(function () {
            $(".btn-pref .btn").removeClass("btn-primary").addClass("btn-default");
            // $(".tab").addClass("active"); // instead of this do the below
            $(this).removeClass("btn-default").addClass("btn-primary");
        });
    });
</script>
